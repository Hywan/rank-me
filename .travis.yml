language: python
python:
# Tests for Python 3 are disabled for now because of
# https://code.djangoproject.com/ticket/23455
#  - "3.3"
  - "2.7"
env:
    global:
        - DJANGO_SETTINGS_MODULE=rankme.settings.test
        - DATABASE_URL=postgres://postgres@localhost/rankme
install:
    - pip install -r requirements/test.txt --use-mirrors
script:
    - python manage.py test
before_script:
    - psql -c 'create database rankme;' -U postgres
services:
  - redis-server
